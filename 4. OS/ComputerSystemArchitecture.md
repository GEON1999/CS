# 컴퓨터 시스템의 구조

## 컴퓨터 시스템의 주요 구성 요소

컴퓨터 시스템은 다음과 같은 주요 구성 요소로 이루어져 있습니다:

- **CPU**: 인터럽트에 의해 메모리에 존재하는 명령어를 해석해서 실행하는 일꾼
- **DMA 컨트롤러**: CPU의 일을 보조하는 일꾼으로, CPU 개입 없이 메모리와 I/O 장치 간 데이터 전송을 담당
- **메모리**: 전자회로에서 데이터, 상태 등을 기록하는 장치(작업장)
- **타이머**: 특정 프로그램에 시간을 할당하고 시간 초과 시 인터럽트를 발생시키는 역할
- **디바이스 컨트롤러**: I/O 디바이스들의 작은 CPU로, 각 장치의 동작을 제어
- **로컬버퍼**: 디바이스에 달려 있는 작은 메모리로, 데이터 임시 저장 역할

> [참고] 컴퓨터를 이루는 것은 SSD, HDD, 쿨러, 전원장치, 파워서플라이 등도 있지만 운영체제와 더 밀접히 관련된 하드웨어를 중심으로 살펴봅니다.

## CPU의 구조와 기능

CPU(Central Processing Unit)는 컴퓨터의 두뇌 역할을 하는 핵심 부품으로, 다음과 같은 구성 요소로 이루어져 있습니다:

### 산술논리연산장치(ALU)

ALU(Arithmetic and Logical Unit)는 다음과 같은 연산을 수행하는 회로장치입니다:

- **산술 연산**: 덧셈, 뺄셈, 곱셈, 나눗셈 등
- **논리 연산**: AND, OR, NOT, XOR 등
- **비교 연산**: 크기 비교, 동등성 검사 등

### 제어장치(CU)

제어 장치(Control Unit)는 컴퓨터 시스템의 모든 동작을 조율하는 역할을 합니다:

- 명령어 해석 및 실행 순서 결정
- 데이터 흐름 제어
- 메모리와 I/O 장치 간 통신 조정
- 인터럽트 처리 관리

### 레지스터

레지스터는 CPU 내부에 있는 매우 빠른 임시 기억장치로, 다음과 같은 종류가 있습니다:

- **데이터 레지스터**: 데이터 값을 임시 저장
- **주소 레지스터**: 메모리 주소를 저장
- **명령어 레지스터**: 현재 실행 중인 명령어 저장
- **프로그램 카운터**: 다음에 실행할 명령어의 주소 저장
- **상태 레지스터**: CPU의 현재 상태 정보 저장

## 인터럽트 시스템

인터럽트는 CPU가 프로그램을 실행하는 도중에 예기치 않은 상황이나 입출력 요청 등이 발생했을 때, CPU의 주의를 환기시키는 메커니즘입니다.

### 인터럽트의 종류

1. **하드웨어 인터럽트**

   - I/O 장치에서 발생하는 인터럽트
   - 타이머 인터럽트
   - 하드웨어 오류 인터럽트

2. **소프트웨어 인터럽트(트랩)**
   - 시스템 콜
   - 프로그램 오류(0으로 나누기, 오버플로우 등)
   - 디버깅을 위한 브레이크포인트

### 인터럽트 처리 과정

1. 인터럽트 발생
2. 현재 실행 중인 명령어 완료
3. 현재 프로세스 상태 저장(레지스터 값, 프로그램 카운터 등)
4. 인터럽트 핸들러 실행
5. 인터럽트 처리 완료 후 저장된 상태 복원
6. 중단된 프로그램 계속 실행

### 인터럽트의 중요성

인터럽트 시스템은 다음과 같은 이유로 현대 컴퓨터 시스템에서 필수적입니다:

- **효율적인 CPU 사용**: I/O 작업 같은 느린 작업을 기다리는 동안 CPU가 다른 작업을 수행할 수 있게 함
- **실시간 이벤트 처리**: 중요한 이벤트가 발생했을 때 즉시 대응 가능
- **다중 작업 처리**: 여러 프로그램을 동시에 실행하는 것처럼 보이게 함
- **하드웨어 자원 보호**: 잘못된 접근이나 사용을 방지

## 시스템 버스

시스템 버스는 컴퓨터 내부의 다양한 구성 요소들을 연결하는 통로로, 다음과 같이 구분됩니다:

1. **데이터 버스**: 데이터를 전송하는 양방향 버스
2. **주소 버스**: CPU가 메모리나 I/O 장치의 주소를 지정하는 단방향 버스
3. **제어 버스**: 제어 신호를 전송하는 버스(읽기/쓰기 신호, 인터럽트 신호 등)

## 메모리 계층 구조

컴퓨터 시스템의 메모리는 속도와 용량에 따라 계층적으로 구성되어 있습니다:

1. **레지스터**: CPU 내부의 가장 빠른 메모리
2. **캐시 메모리**: CPU와 주 메모리 사이의 고속 버퍼 역할
3. **주 메모리(RAM)**: 프로그램과 데이터가 실행 중에 저장되는 공간
4. **보조 메모리(SSD, HDD)**: 대용량 데이터를 영구적으로 저장하는 공간

이러한 계층 구조는 속도와 용량 사이의 균형을 맞추어 전체 시스템의 성능을 최적화합니다.
